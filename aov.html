<!DOCTYPE html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<header>
    <nav>
    <div class=nav>
        <a><i class="fa fa-bars menu" aria-hidden="true"></i></a>
        <div class=menu></div>
        <a href="index.html"><i class="fa fa-camera menu" id=title> Photography Toolbox</i></a>
        <a href="docs/calculations.html" class=helplink><i class="fa fa-question menu"></i></a>
    </div>
    </nav>
</header>
<link rel=stylesheet href=static/style.css type=text/css>
<script src="src/crop-factor.js"></script>
<script src="src/exposure.js"></script>
<script src="js/Tools.js"></script>

<script src="https://use.fontawesome.com/f35383e121.js"></script>

<title>Angles of view | Photography Toolbox</title>

<div class=form-container>
    <div class=row>
        <div class=column><label for="sensor">Sensor format</label></div>
        <div class=column><select id="sensor" onchange="update_result()"></select></div>
    </div>
    <div class=row>
        <div class=column><label for=focal_length>Focal length</label></div>
        <div class=column><input type="number" id=focal_length onchange="update_result()" value=50></div>
    </div>
</div>
<div class=container>
    <h3>Equivalent focal length:</h3>
<div class=row>
    <span id=resulting_focal_length></span><span> mm</span>
</div><br>
</div>

<div class=container>
<div class=row>
    <h3>Angles of view</h3>
</div>
<div class=row>
    <div class=column>horizontal</div>
    <span id=horizontal_angle></span><span> °</span><br>
</div>
<div class=row>
    <div class=column>vertical</div>
    <span id=vertical_angle></span><span> °</span><br>
</div>
<div class=row>
    <div class=column>diagonal</div>
    <span id=diagonal_angle></span><span> °</span><br>
</div>
</div>

<script>
    sensors_size_select("sensor")
    update_result = () => {
        let focal_length = document.getElementById("focal_length").value
        let sensor_size = JSON.parse(document.getElementById("sensor").value)
        document.getElementById("resulting_focal_length").innerHTML = (
            equiv_focal_length(focal_length, crop_factor(sensor_size))
        )
        aovs = aov(sensor_size, focal_length)
        document.getElementById("vertical_angle").innerHTML = aovs[0]
        document.getElementById("horizontal_angle").innerHTML = aovs[1]
        document.getElementById("diagonal_angle").innerHTML = aovs[2]
    }

    window.onload = () => {
        update_result()
        let window_width = window.innerWidth;
        if (window_width < 340) {
            document.getElementById("title").innerHTML = " Photo Tools"
        }
    }
</script>