<!DOCTYPE html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<header>
    <nav>
    <div class=nav>
        <a><i class="fa fa-bars menu" aria-hidden="true"></i></a>
        <div class=menu></div>
        <a href="index.html"><i class="fa fa-camera menu"> Photography Toolbox</i></a>
        <a href="docs/calculations.html" class=helplink><i class="fa fa-question menu"></i></a>
    </div>
    </nav>
</header>
<link rel=stylesheet href=static/style.css type=text/css>
<script src="src/crop-factor.js"></script>
<script src="src/exposure.js"></script>
<script src="js/Tools.js"></script>

<script src="https://use.fontawesome.com/f35383e121.js"></script>

<title>Angles of view | Photography Toolbox</title>

<div class=form-container>
    <div class=row>
        <label for="sensor">Sensor format</label>
        <select id="sensor" onchange="update_result()"></select>
    </div>
    <div class=row>
        <label for=focal_length>Focal length</label>
        <input type="number" id=focal_length onchange="update_result()" value=50>
    </div>
</div>
<div class=container>
    <h3>Equivalent focal length:</h3>
<div class=row>
    <div class=column id=resulting_focal_length></div> <div class=column>mm</div>
</div><br>
</div>

<div class=container>
<div class=row>
    <h3>Angles of view</h3>
</div>
<div class=row>
    <div class=column>horizontal</div>
    <div class=column id=horizontal_angle></div><br>
</div>
<div class=row>
    <div class=column>vertical</div>
    <div class=column id=vertical_angle></div><br>
</div>
<div class=row>
    <div class=column>diagonal</div>
    <div class=column id=diagonal_angle></div><br>
</div>
</div>

<script>
    sensors_size_select("sensor")
    update_result = () => {
        let focal_length = document.getElementById("focal_length").value
        let sensor_size = JSON.parse(document.getElementById("sensor").value)
        document.getElementById("resulting_focal_length").innerHTML = (
            equiv_focal_length(focal_length, crop_factor(sensor_size))
        )
        aovs = aov(sensor_size, focal_length)
        document.getElementById("vertical_angle").innerHTML = aovs[0]
        document.getElementById("horizontal_angle").innerHTML = aovs[1]
        document.getElementById("diagonal_angle").innerHTML = aovs[2]
    }
</script>